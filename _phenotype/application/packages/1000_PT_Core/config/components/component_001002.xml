<?xml version="1.0" encoding="ISO-8859-1" ?>
<phenotype>
	<meta>
		<ptversion>##!PT_VERSION!##</ptversion>
		<ptsubversion>##!BUILD_NO!##</ptsubversion>	
		<com_id>1002</com_id>
		<com_bez>HTML</com_bez>		
		<com_rubrik>System</com_rubrik>
		<com_description>## Component 1002 - HTML</com_description>
	</meta>
	<script>&#60;?php
&#47;**
 * HTML component
 *
 *&#47;
class PhenotypeComponent_1002 extends PhenotypeComponent
{
	var $tool_type = 1002;
	var $bez = &#34;HTML&#34;;

	function setDefaultProperties()
	{
		$this-&#62;set(&#34;html&#34;,&#34;&#34;);
	}

	function edit()
	{

		$this-&#62;form_html(&#34;html&#34;,$this-&#62;get(&#34;html&#34;),80,15);
	}


	function setFullSearch()
	{
		$s = $this-&#62;get(&#34;html&#34;);
		&#47;&#47; Alle Tags entfernen
		$s = ereg_replace(&#34;&#60;[^&#62;]*&#62;&#34;,&#34;&#34;,$s);
		return ($s);
	}

	function update()
	{
		&#47;&#47; First do the default property update
		parent::update();
		global $myAdm;

		$html = $this-&#62;get(&#34;html&#34;);
		$html = $myAdm-&#62;decodeRequest_HTMLArea($html);
		$this-&#62;set(&#34;html&#34;,$html);
	}


	function render($context)
	{
		$html = $this-&#62;get(&#34;html&#34;);

		&#47;&#47; Remove PHP-Tags so nobody can insert code

		$html = ereg_replace(&#34;&#60;\?[^&#62;]*&#62;&#34;,&#34;&#34;,$html); &#47;&#47; matching normal and short opening tags
		$html = ereg_replace(&#34;&#60;\%[^&#62;]*&#62;&#34;,&#34;&#34;,$html); &#47;&#47; matching ASP-style tags


		return $html;
	}


	function displayXML()
	{
  	?&#62;
  	&#60;component com_id=&#34;1002&#34; type=&#34;HTML&#34;&#62;
  	&#60;content&#62;
  	&#60;html&#62;&#60;?php echo $this-&#62;getX(&#34;html&#34;);?&#62;&#60;&#47;html&#62;
    &#60;&#47;content&#62;
    &#60;&#47;component&#62;
  	&#60;?php 
  	return true;
	}
}
 ?&#62;</script>
	<templates>
   	</templates>
	<componentgroups><group>
			<cog_id>1</cog_id>
			<cog_bez>Default</cog_bez>
			<cog_description>## Default-Bausteingruppe</cog_description>
			<cog_pos>0</cog_pos>
		  </group></componentgroups>
</phenotype>